#include <stdio.h>
#include <malloc.h>

typedef struct aux{
  int chave;
  struct aux *e;
  struct aux *d;
  float campo_extra;
}estrutura_no;

void inserir_elemento(estrutura_no *no_raiz, int chave_inserida, float campo_extra_inserido){


  if(no_raiz == NULL){
    (*no_raiz).chave = chave_inserida;
    (*no_raiz).campo_extra = campo_extra_inserido;
    (*no_raiz).e = NULL;
    (*no_raiz).d = NULL;
    return;
  }
  if(chave_inserida > (*no_raiz).chave){
    inserir_elemento((*no_raiz).d);
  }
  else if(chave_inserida < (*no_raiz).chave){
    inserir_elemento((*no_raiz).e);
  }
  return;
}

int main(){
  char funcao;
  int chave_inserida;
  float campo_extra_inserido;
  estrutura_no *no_raiz = malloc(1*sizeof(estrutura_no));
  estrutura_no *no2 = malloc(1*sizeof(estrutura_no));
  estrutura_no *no3 = malloc(1*sizeof(estrutura_no));
  estrutura_no *no4 = malloc(1*sizeof(estrutura_no));
  estrutura_no *no5 = malloc(1*sizeof(estrutura_no));
  (*no_raiz).chave = 15;
  (*no_raiz).campo_extra = 23.5;
  (*no_raiz).e = no2;
  (*no_raiz).d = no3;

  (*no2).chave = 10;
  (*no2).campo_extra = 25.5;
  (*no2).e = NULL;
  (*no2).d = no4;

  (*no3).chave = 20;
  (*no3).campo_extra = 27.5;
  (*no3).e = no5;
  (*no3).d = NULL;

  (*no4).chave = 12;
  (*no4).campo_extra = 29.5;
  (*no4).e = NULL;
  (*no4).d = NULL;

  (*no5).chave = 17;
  (*no5).campo_extra = 31.5;
  (*no5).e = NULL;
  (*no5).d = NULL;

  printf("Qual função gostaria de realizar?\n");
  printf("A para inserir um no;\n");
  printf("B para contar o numero de nos;\n");
  printf("C para imprimir as chaves dos nos;\n");
  printf("D para visualizar o campo extra de um no;\nDigite(maiusculo):\n");
  scanf("%c", &funcao);

  if(funcao == 'A'){

    printf("Qual chave deve ser inserida?\n");
    scanf("%d", &chave_inserida);
    printf("Qual o valor do campo extra para a chave inserida?\n");
    scanf("%f", &campo_extra_inserido);

    inserir_elemento(no_raiz, chave_inserida, campo_extra_inserido);
  }
  else if(funcao == 'B'){

  }
  else if(funcao == 'C'){

  }
  else if(funcao == 'D'){
    
  }
  return 0;
}

int contagem (estrutura_no *no_raiz)
{
	int i, resultado, quantEsquerda, quantDireita, flag = 0;
	
	quantEsquerda = 0;
	quantDireita = 0;
	
	while(flag == 0)
	{
		if(*no_raiz.d == NULL)
		{
			/*Condicao de saida do looping*/
			flag = 1;	
		}else
		{
			quantDireita ++;
			
			/*apontando para o proximo a direita*/
			contagem(estrutura_no *no_raiz.d);
		}
	}
	
	/*Resetando a flag*/
	flag = 0;
	
	while(flag == 0)
	{
		if(*no_raiz.e == NULL)
		{
			/*condicao de saida do looping*/
			flag = 1;
		}else{
			quantEsquerda ++;
			
			/*apontando para o proximo a esqeurda*/	
			contagem(estrutura_no *no_raiz.e);
		}
	}
	
	resultado = quantDireita + quantEsquerda;
	
	return resultado;	
}
